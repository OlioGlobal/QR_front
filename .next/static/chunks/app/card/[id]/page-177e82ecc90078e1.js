(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[617],{3453:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(5155),r=t(2115),l=t(5695),n=t(6766),c=t(6874),i=t.n(c),d=t(9420),o=t(8883),m=t(1366),h=t(5041),x=t(4516),g=t(2486),u=t(4575),f=t(2894),j=t(5684),b=t(2318);function p(){var e,s,t,c;let p=(0,l.useParams)(),[N,w]=(0,r.useState)(null),[y,v]=(0,r.useState)(!0),[E,k]=(0,r.useState)(null),A=null==p?void 0:p.id;(0,r.useEffect)(()=>{A&&(O(A),R(A))},[A]);let O=async e=>{try{v(!0);let s=await fetch("".concat("https://qrbk.business99.xyz/api/","users/get/").concat(e)),t=await s.json();t.success?w(t.data):k("Failed to fetch user data")}catch(e){k("Error loading user data"),console.error("Error fetching user data:",e)}finally{v(!1)}},R=async e=>{try{fetch("".concat("https://qrbk.business99.xyz/api/","users/").concat(e,"/visit"),{method:"POST"}).catch(e=>{console.error("Error incrementing visit count:",e)})}catch(e){console.error("Error in visit counter:",e)}},C=e=>e?String(e).replace(/\\/g,"\\\\").replace(/\r\n/g,"\\n").replace(/\n/g,"\\n").replace(/\r/g,"\\n").replace(/,/g,"\\,").replace(/;/g,"\\;"):"";return y?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):E?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-red-700 mb-2",children:"Error"}),(0,a.jsx)("p",{className:"text-red-600",children:E})]})}):N?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-md",children:[(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-lg overflow-hidden mb-6 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300 opacity-95"}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-20 rounded-full -mr-16 -mt-16 shadow-xl backdrop-blur-sm"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white bg-opacity-20 rounded-full -ml-12 -mb-12 shadow-lg backdrop-blur-sm"}),(0,a.jsxs)("div",{className:"relative z-10 p-8 text-center",children:[N.companyLogo&&(0,a.jsx)("div",{className:"flex justify-start mb-6",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-white rounded-full p-2 shadow-md flex items-center justify-center",children:(0,a.jsx)(n.default,{src:null==(e=N.companyLogo)?void 0:e.url,alt:"".concat(N.company," logo"),width:500,height:500,className:"w-full h-full object-contain"})})}),(null==(s=N.profileImage)?void 0:s.url)?(0,a.jsx)("div",{className:"w-52 h-52 mx-auto mb-4 rounded-full overflow-hidden ring-4 ring-white shadow-lg",children:(0,a.jsx)(n.default,{src:N.profileImage.url,alt:N.name,width:750,height:750,className:"w-full h-full object-cover",priority:!0})}):null,(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:N.name}),(0,a.jsx)("p",{className:"text-gray-700 font-medium mb-1",children:N.designation}),(0,a.jsx)("p",{className:"text-gray-800 font-semibold",children:N.company}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,a.jsx)("a",{href:"tel:".concat(N.phone),className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center text-white hover:bg-red-600 transition-colors shadow-md",children:(0,a.jsx)(d.A,{className:"w-5 h-5"})}),(0,a.jsx)("a",{href:"mailto:".concat(N.email),className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center text-white hover:bg-red-600 transition-colors shadow-md",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})}),(0,a.jsx)("a",{href:"sms:".concat(N.phone),className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center text-white hover:bg-red-600 transition-colors shadow-md",children:(0,a.jsx)(m.A,{className:"w-5 h-5"})}),(0,a.jsx)("a",{href:"https://wa.me/".concat(N.phone),target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center text-white hover:bg-red-600 transition-colors shadow-md",children:(0,a.jsx)(n.default,{src:"/whatsapp.png",alt:"WhatsApp",width:34,height:34,className:"object-contain"})})]})]})]}),N.tagline&&(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6",children:(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-800 text-center mb-2",children:N.tagline})}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shadow-md",children:(0,a.jsx)(h.A,{className:"w-10 h-10 text-gray-500"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Contact Information"})]}),(0,a.jsxs)("div",{className:"space-y-5 text-sm text-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Call Us"}),(0,a.jsx)("a",{href:"tel:".concat(N.phone),className:"text-gray-600 hover:text-blue-600 transition-colors block",children:N.phone})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(o.A,{className:"w-4 h-4 text-gray-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Email"}),(0,a.jsx)("a",{href:"mailto:".concat(N.email),className:"text-gray-600 hover:text-blue-600 transition-colors block",children:N.email})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(x.A,{className:"w-4 h-4 text-gray-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Address"}),(0,a.jsx)("p",{className:"text-gray-600 leading-relaxed",children:N.address})]})]}),(0,a.jsx)("div",{className:"flex",children:N.directions?(0,a.jsxs)(i(),{href:N.directions,className:"mt-3 flex justify-center gap-2 items-center bg-gray-800 hover:bg-gray-900 text-white px-4 py-3 rounded-full text-sm font-medium transition-all",children:[(0,a.jsx)(g.A,{className:"w-6 h-6 text-white"}),"Get Directions"]}):null})]})]}),(N.linkedin||N.instagram)&&(0,a.jsxs)("div",{className:"bg-white p-6 mb-6 rounded-2xl shadow-lg",children:[(0,a.jsxs)("div",{className:"flex mb-5 justify-start gap-3 items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"w-10 h-10 text-gray-500"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Follow Me On"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(null==(t=N.linkedin)?void 0:t.trim())&&(0,a.jsx)(i(),{href:N.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group shadow-sm",children:(0,a.jsx)("div",{className:"w-11 h-11 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(f.A,{className:"w-8 h-8 text-white"})})}),(null==(c=N.instagram)?void 0:c.trim())&&(0,a.jsx)(i(),{href:N.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group shadow-sm",children:(0,a.jsx)("div",{className:"w-11 h-11 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(j.A,{className:"w-8 h-8 text-white"})})})]})]})]}),(0,a.jsx)("button",{onClick:()=>{if(!N)return;let e="BEGIN:VCARD\r\n";if(e+="VERSION:3.0\r\n",N.name){e+="FN:".concat(C(N.name),"\r\n");let s=N.name.trim().split(/\s+/),t=s.length>1?s.pop():"",a=s.join(" ");e+="N:".concat(C(t),";").concat(C(a),";;;\r\n")}if(N.company&&(e+="ORG:".concat(C(N.company),"\r\n")),N.designation&&(e+="TITLE:".concat(C(N.designation),"\r\n")),N.phone){let s=N.phone.replace(/[^\d+\-\s()]/g,"");e+="TEL;TYPE=WORK,VOICE:".concat(s,"\r\n")}if(N.email&&(e+="EMAIL;TYPE=WORK:".concat(N.email,"\r\n")),N.address&&(e+="ADR;TYPE=WORK:;;".concat(C(N.address),";;;;\r\n")),N.linkedin&&(e+="URL;TYPE=WORK:".concat(N.linkedin,"\r\n")),N.tag||N.tagline){let s=N.tagline||N.tag;e+="NOTE:".concat(C(s),"\r\n")}let s=new Blob([e+="END:VCARD\r\n"],{type:"text/vcard;charset=utf-8"}),t=window.URL.createObjectURL(s),a=document.createElement("a"),r=(N.name||"contact").replace(/\s+/g,"_").replace(/[^\w-]/g,"").substring(0,30),l=(N.company||"company").replace(/\s+/g,"_").replace(/[^\w-]/g,"").substring(0,30);a.href=t,a.download="".concat(r,"_").concat(l,"_contact.vcf"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)},className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 z-50","aria-label":"Download Contact Card",children:(0,a.jsx)(b.A,{className:"w-6 h-6"})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDC64"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No Data Found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"User profile not found"})]})})}},6682:(e,s,t)=>{Promise.resolve().then(t.bind(t,3453))}},e=>{var s=s=>e(e.s=s);e.O(0,[824,441,684,358],()=>s(6682)),_N_E=e.O()}]);