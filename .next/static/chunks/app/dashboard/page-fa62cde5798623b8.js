(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1264:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},4516:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6938:(e,a,t)=>{"use strict";t.d(a,{default:()=>u});var s=t(5155),r=t(2115),l=t(9946);let i=(0,l.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),d=(0,l.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var n=t(1264),c=t(9420),o=t(4516);let m=(0,l.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),g=(0,l.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=(0,l.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),x=e=>{let{mode:a="create",userId:t=null,initialData:l=null,onSuccess:n}=e,[c,o]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[p,x]=(0,r.useState)({name:"",designation:"",company:"",tagline:"",phone:"",email:"",address:"",linkedin:"",instagram:"",directions:""}),[h,u]=(0,r.useState)(null),[f,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{"update"===a&&l&&x({name:l.name||"",designation:l.designation||"",company:l.company||"",tagline:l.tagline||"",phone:l.phone||"",email:l.email||"",address:l.address||"",linkedin:l.linkedin||"",instagram:l.instagram||"",directions:l.directions||""})},[l,a]);let b=e=>{x({...p,[e.target.name]:e.target.value})},j=async e=>{e.preventDefault(),g(!0);let s=new FormData;s.append("userData",JSON.stringify(p)),h&&s.append("profileImage",h),f&&s.append("companyLogo",f);let r="create"===a?"".concat("http://localhost:5000/api/","users/create"):"".concat("http://localhost:5000/api/","users/update/").concat(t);try{let e=await fetch(r,{method:"create"===a?"POST":"PUT",body:s}),t=await e.json();if(console.log(t),e.ok)alert("create"===a?"User created successfully!":"User updated successfully!"),o(!1),n(),"create"===a&&(x({name:"",designation:"",company:"",tagline:"",phone:"",email:"",address:"",linkedin:"",instagram:"",directions:""}),u(null),y(null));else throw Error(t.message||"Request failed")}catch(e){console.error(e),alert(e.message||"Request failed")}finally{g(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"".concat("create"===a?"bg-blue-600 hover:bg-blue-700 px-6 py-2":"bg-yellow-500 hover:bg-yellow-600 p-2"," text-white rounded-md transition-colors flex items-center gap-2"),onClick:()=>o(!0),children:"create"===a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i,{size:16}),"Create User"]}):(0,s.jsx)(d,{size:16})}),c&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-2xl max-h-[90vh] overflow-y-auto shadow-xl",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"create"===a?"Create New User":"Update User"}),(0,s.jsxs)("div",{onSubmit:j,className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{field:"name",label:"Full Name",type:"text"},{field:"designation",label:"Designation",type:"text"},{field:"company",label:"Company",type:"text"},{field:"tagline",label:"Tagline",type:"text"},{field:"phone",label:"Phone",type:"tel"},{field:"email",label:"Email",type:"email"},{field:"linkedin",label:"LinkedIn URL",type:"url"},{field:"instagram",label:"Instagram URL",type:"url"},{field:"directions",label:"GoogleMap URL",type:"url"}].map(e=>{let{field:a,label:t,type:r}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,s.jsx)("input",{type:r,name:a,placeholder:t,value:p[a],onChange:b,required:!["linkedin","instagram","directions"].includes(a),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},a)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,s.jsx)("textarea",{name:"address",placeholder:"Full Address",value:p.address,onChange:b,required:!0,rows:"3",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>u(e.target.files[0]),className:"w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Logo"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>y(e.target.files[0]),className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[(0,s.jsx)("button",{type:"button",onClick:()=>o(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-md transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{type:"button",onClick:j,disabled:m,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-md flex items-center gap-2 transition-colors disabled:opacity-50",children:[m&&(0,s.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"create"===a?"Create User":"Update User"]})]})]})]})})]})},h=e=>{var a;let{user:t,isOpen:r,onClose:l}=e;return r&&t?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-md w-[90%] shadow-xl",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-center",children:["QR Code - ",t.name]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("img",{src:null==(a=t.qrCode)?void 0:a.url,alt:"QR Code for ".concat(t.name),className:"mx-auto mb-4 max-w-full h-auto border rounded-lg"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Scan this QR code to view contact details"}),(0,s.jsx)("button",{onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-colors",children:"Close"})]})]})}):null},u=()=>{let[e,a]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[i,d]=(0,r.useState)(1),[u,f]=(0,r.useState)(1),[y,b]=(0,r.useState)(0),[j,v]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),k=[{_id:"684b00b16a00cc30f3dc01aa",name:"Yash",designation:"Data Management Analyst",company:"testing",tagline:"testing is key",phone:"9096842842",email:"choudhariyash@gmail.com",address:"Hamal Mapde",profileImage:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749745857/visiting-cards/profiles/profile_684b00b16a00cc30f3dc01aa.jpg"},companyLogo:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749745859/visiting-cards/logos/logo_684b00b16a00cc30f3dc01aa.png"},qrCode:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749745860/visiting-cards/qr-codes/qr_684b00b16a00cc30f3dc01aa.png"},createdAt:"2025-06-12T16:30:41.406Z"},{_id:"684affba6a00cc30f3dc01a5",name:"test user",designation:"tester",company:"testing",tagline:"testing is key",phone:"7894561230",email:"test@gmail.com",address:"Hamal Mapde",profileImage:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749745605/visiting-cards/profiles/profile_684affba6a00cc30f3dc01a5.jpg"},companyLogo:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749745607/visiting-cards/logos/logo_684affba6a00cc30f3dc01a5.png"},qrCode:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749745608/visiting-cards/qr-codes/qr_684affba6a00cc30f3dc01a5.png"},createdAt:"2025-06-12T16:26:34.845Z"},{_id:"684aefe36a00cc30f3dc019e",name:"John Does",designation:"Software Engineer",company:"Tech Corp",tagline:"Innovating the future",phone:"9876543210",email:"john.doe@example.com",address:"123 Main Street",linkedin:"https://linkedin.com/in/johndoe",instagram:"https://instagram.com/johndoe",profileImage:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749744064/visiting-cards/profiles/profile_684aefe36a00cc30f3dc019e.png"},companyLogo:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749744067/visiting-cards/logos/logo_684aefe36a00cc30f3dc019e.png"},qrCode:{url:"https://res.cloudinary.com/dsxfg3jdt/image/upload/v1749741552/visiting-cards/qr-codes/qr_684aefe36a00cc30f3dc019e.png"},createdAt:"2025-06-12T15:18:59.920Z"}],C=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l(!0);try{let t=await fetch("".concat("http://localhost:5000/api/","users/all?page=").concat(e,"&limit=10"));if(t.ok){let{data:s,totalUsers:r,totalPages:l}=await t.json();a(s),b(r),f(l),d(e)}else a(k),b(k.length),f(1),d(1)}catch(e){console.error("Error fetching users:",e),a(k),b(k.length),f(1),d(1)}finally{l(!1)}};(0,r.useEffect)(()=>{C()},[]);let A=async(e,a)=>{if(window.confirm("Are you sure you want to delete ".concat(a,"?")))try{if((await fetch("".concat("http://localhost:5000/api/","users/delete/").concat(e),{method:"DELETE"})).ok)alert("User deleted successfully!"),C(i);else throw Error("Failed to delete user")}catch(e){console.error("Error deleting user:",e),alert("Failed to delete user")}},_=e=>{v(e),w(!0)};return t&&0===e.length?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):(0,s.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,s.jsxs)("p",{className:"text-gray-600 mt-1",children:["Total ",y," users â€¢ Page ",i," of ",u]})]}),(0,s.jsx)(x,{mode:"create",onSuccess:()=>C(1)})]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Profile"}),(0,s.jsx)("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Contact Info"}),(0,s.jsx)("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Company"}),(0,s.jsx)("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Visit Count"}),(0,s.jsx)("th",{className:"text-left p-4 font-semibold text-gray-700",children:"QR Code"}),(0,s.jsx)("th",{className:"text-center p-4 font-semibold text-gray-700",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{var a,t,r;return(0,s.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:null==(a=e.profileImage)?void 0:a.url,alt:e.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.designation})]})]})}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(n.A,{size:14,className:"text-gray-400"}),(0,s.jsx)("span",{children:e.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(c.A,{size:14,className:"text-gray-400"}),(0,s.jsx)("span",{children:e.phone})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(o.A,{size:14,className:"text-gray-400"}),(0,s.jsx)("span",{className:"truncate max-w-xs",children:e.address})]})]})}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:null==(t=e.companyLogo)?void 0:t.url,alt:e.company,className:"w-10 h-10 rounded object-cover border border-gray-200"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.company}),(0,s.jsx)("div",{className:"text-sm text-gray-600 italic",children:(null==(r=e.tagline)?void 0:r.length)>20?e.tagline.slice(0,20)+"...":e.tagline})]})]})}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(m,{size:14,className:"text-gray-400"}),(0,s.jsx)("span",{children:e.visitCount})]})}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("button",{onClick:()=>_(e),className:"bg-purple-100 hover:bg-purple-200 text-purple-700 px-3 py-2 rounded-md text-sm flex items-center gap-2 transition-colors",children:[(0,s.jsx)(g,{size:14}),"View QR"]})}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(x,{mode:"update",userId:e._id,initialData:e,onSuccess:()=>C(i)}),(0,s.jsx)("button",{onClick:()=>A(e._id,e.name),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-md transition-colors",children:(0,s.jsx)(p,{size:16})})]})})]},e._id)})})]})}),u>1&&(0,s.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>C(i-1),disabled:1===i,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,s.jsx)("div",{className:"flex gap-1",children:Array.from({length:u},(e,a)=>a+1).map(e=>(0,s.jsx)("button",{onClick:()=>C(e),className:"px-3 py-2 rounded-md ".concat(e===i?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"),children:e},e))}),(0,s.jsx)("button",{onClick:()=>C(i+1),disabled:i===u,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})})]}),(0,s.jsx)(h,{user:j,isOpen:N,onClose:()=>{w(!1),v(null)}})]})}},7761:(e,a,t)=>{Promise.resolve().then(t.bind(t,6938))},9420:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},9946:(e,a,t)=>{"use strict";t.d(a,{A:()=>m});var s=t(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),i=e=>{let a=l(e);return a.charAt(0).toUpperCase()+a.slice(1)},d=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()},n=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,a)=>{let{color:t="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:m,iconNode:g,...p}=e;return(0,s.createElement)("svg",{ref:a,...c,width:r,height:r,stroke:t,strokeWidth:i?24*Number(l)/Number(r):l,className:d("lucide",o),...!m&&!n(p)&&{"aria-hidden":"true"},...p},[...g.map(e=>{let[a,t]=e;return(0,s.createElement)(a,t)}),...Array.isArray(m)?m:[m]])}),m=(e,a)=>{let t=(0,s.forwardRef)((t,l)=>{let{className:n,...c}=t;return(0,s.createElement)(o,{ref:l,iconNode:a,className:d("lucide-".concat(r(i(e))),"lucide-".concat(e),n),...c})});return t.displayName=i(e),t}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(7761)),_N_E=e.O()}]);